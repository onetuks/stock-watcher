# WatchDash (A안, Streamlit MVP)

당신의 전략(DD≥15 & RSI<35 진입 / TP 12~15% 절반 / 트레일링 -5%)을
**자동 거래 없이** 모니터링하고 알림/대시보드로 보여주는 최소 구현체입니다.

## 준비

```bash
# 1) 가상환경 권장
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate

# 2) 의존성 설치
pip install -r requirements.txt
```

## 실행

```bash
streamlit run app.py
```

브라우저가 자동으로 열리지 않으면, 출력된 로컬 URL을 복사해 접속하세요.

## 파일 개요

- `config.yaml`: 전략 파라미터, 데이터 옵션, 텔레그램 설정
- `watchlist.csv`: 관심 종목 목록
- `positions.csv`: 수동으로 진입/익절/청산을 기록(대시보드에서 버튼 제공)
- `app.py`: Streamlit 대시보드
- `signals.py`: 지표/시그널 계산 로직
- `notifier.py`: 텔레그램 전송 함수
- `data/`: 데이터 캐시 디렉터리(현재는 yfinance 캐시 활용)

## 사용 흐름

1. `watchlist.csv`에 종목을 적어둡니다(예시에 당신 포트 반영됨).
2. 대시보드에서 지표/신호를 확인합니다.
3. 실제 거래는 증권사 앱(토스 등)에서 수행합니다.
4. 체결 후 대시보드 오른쪽의 "**진입 기록**"에 가격을 입력하여 기록합니다.
5. 이후 TP(12~15%) 구간 접근/도달, 트레일링(-5%) 이탈 여부를 대시보드가 모니터링합니다.
6. 절반 익절/전량 청산은 **수동 기록 버튼**으로 포지션 상태를 업데이트합니다.

## 주의

- yfinance는 무료 소스라 드물게 지연/변경이 있을 수 있습니다.
- 한국 종목은 `KRX:코드` → `코드.KS`로 단순 매핑합니다(필요시 보정).
- 이 앱은 **매수/매도 주문을 전혀 수행하지 않습니다**(모니터링 전용).

## 선택 기능

- `config.yaml`에서 텔레그램 알림을 활성화하면, 신호를 복사해 수동 전송하거나 추후 자동화 코드 추가가 가능합니다.
- 백테스트/최적화는 이 MVP 범위 밖입니다(추후 확장).
